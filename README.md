# Securing GRPC connection with TLS

TLS certificates keep your application connection secure and protect the application from unauthorized requests. Server and client verify authenticity and share data safely

### Prerequisites

- Familiar with Go Programming language

- Installed openssl command tool

- Knowledge on GRPC and protobuf


## Getting Started
```
mkdir tlsgrpc
cd tlsgrpc
```
Initiate go project


#### Generate TLS certificates 

If we want generated certificates for server and client we need certificate authority. So we need to generated self signed certificate at first

###### Generate CA Private key and self signed certificate
```
openssl req -x509 -newkey rsa:4096 -nodes -days 365 -keyout ca-key.pem -out ca-cert.pem -subj "/C=TR/ST=ASIA/L=ISTANBUL/O=DEV/OU=TUTORIAL/CN=*.grpcorganization.dev/emailAddress=email@grpc.com"
```

###### Generate server private key and certificate signing request

```
openssl req -newkey rsa:4096 -nodes -keyout server-key.pem -out server-req.pem -subj "/C=TR/ST=ASIA/L=ISTANBUL/O=DEV/OU=BLOG/CN=*.grpctls.com/emailAddress=email@grpctls.com"
```
###### signing server certicate request
```
openssl x509 -req -in server-req.pem -CA ca-cert.pem -CAkey ca-key.pem -CAcreateserial -out server-cert.pem -extfile server-ext.conf
```

To client could establish a secure connection we are keeping IP:0.0.0.0 in _-extfile_ `server-ext.conf`, otherwise it could not connect

###### Generate client private key and certificate signing request

```
openssl req -newkey rsa:4096 -nodes -keyout client-key.pem -out client-req.pem -subj "/C=TR/ST=EUROPE/L=ISTANBUL/O=DEV/OU=CLIENT/CN=*.someclient.com/emailAddress=someclient@gmail.com"
 ```

###### signing client certicate request using CA
```
openssl x509 -req -in client-req.pem -days 60 -CA ca-cert.pem -CAkey ca-key.pem -CAcreateserial -out client-cert.pem -extfile client-ext.conf
```

To  establish a secure connection we are keeping IP:0.0.0.0 in  _-extfile_ `client-ext.conf` , otherwise it could not connect






## Grpc server and client with tls

After generating certificates fro server and client . In server side add client CA into  server x509 cert pool. In client side add server CA into client x509 cert pool.
So we can make secure tls connection between grpc server and client where the tls certificates of server and client generated by same CA or different CA.


### Steps to run the project

```
 git clone https://github.com/Hares27/GRPC_TLS.git

cd GRPC_TLS/

cd server

go run main.go

````

open second terminal

```
cd client

go run main.go

```











